<!--
    Tura - application generation platform
   
    Copyright (c) 2012, 2015, Arseniy Isakov
     
    This project includes software developed by Arseniy Isakov
    http://sourceforge.net/p/tura/wiki/Home/
    All rights reserved. This program and the accompanying materials
    are made available under the terms of the Eclipse Public License v1.0
    which accompanies this distribution, and is available at
    http://www.eclipse.org/legal/epl-v10.html
 -->
<project default="main">
	
	<target name="main" depends="application,common,permission,artifact,type,domain,genmodel,copy-icons">
	</target>
	

	<target name="application">
		<epsilon.eugenia   src="model/application.emf" laststep="ecore" />		
	</target>	

	<target name="common">
		<epsilon.eugenia   src="model/common.emf" laststep="ecore" />		
	</target>	
	
	<target name="permission">
		<epsilon.eugenia   src="model/permission.emf" laststep="ecore" />		
	</target>	
	
	<target name="artifact">
		<epsilon.eugenia   src="model/artifact.emf" laststep="ecore" />		
	</target>	
	

	<target name="type">
		<epsilon.eugenia   src="model/type.emf" laststep="ecore" />		
	</target>	
	
	<target name="domain">
		<epsilon.eugenia   src="model/domain.emf" laststep="ecore" />		
	</target>	
	
	<target name="genmodel">
		
		<!--epsilon.emf.loadModel name="application"
		                               modelFile="model/application.ecore"
		                               metamodelUri="ecore"
		                               read="true" store="false"/-->		
		
		<epsilon.eugenia   src="model/domain.emf" laststep="emfcode" >
			<model ref="application"/>
		</epsilon.eugenia>
	</target>	

	<target name="copy-icons">
		<copy todir="../org.tura.metamodel.edit/icons/full/obj16">
			<fileset dir="icons"/>
		</copy>
     </target>
</project>